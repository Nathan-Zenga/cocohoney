<ul class="nav nav-pills">
    <li class="active"><a data-toggle="pill" href="#new-lookbook-img">NEW IMAGE</a></li>
    <li><a data-toggle="pill" href="#new-tutorial-video">NEW TUTORIAL VIDEO</a></li>
    <li><a data-toggle="pill" href="#remove-lookbook-media">REMOVE</a></li>
</ul>

<style>
    #new-lookbook-media .file-upload-container {
        border: 1.5px solid rgba(255, 255, 255, .5);
        padding: 20px 15px;
        border-radius: 10px;
    }
</style>

<div class="tab-content" style="padding-top: 10px;">
    <div id="new-lookbook-img" class="new-form-tab tab-pane fade in active">
        <form method="post" class="container-fluid" action="/lookbook/gallery/add" style="padding: 30px">
            <%_ var suffix = Date.now(); _%>
            <label>UPLOAD LOOKBOOK IMAGE</label>
            <fieldset class="file-upload-container">
                <div class="row">
                    <div class="col-sm-6 col-xs-9"><input type="file" id="lookbook_media_file_<%- suffix %>" accept=".jpg,.jpeg,.png,.bmp" data-fieldname="image_file" multiple></div>
                    <input type="hidden" name="image_file">
                    <div class="col-sm-6 col-xs-3"><button type="button" class="clear-uploads" data-id="lookbook_media_file_<%- suffix %>">CLEAR</button></div>
                </div>
                <div class="row">
                    <div class="col-sm-12"><input type="url" name="image_url" id="lookbook_media_url_<%- suffix %>" placeholder="Or enter the image URL"></div>
                </div>
                <div class="row">
                    <div class="col-sm-12 add-remove-control" style="text-align: right">
                        <button type="button" class="add" data-prefix="lookbook_media_file_">ADD</button>
                        <button type="button" class="remove">REMOVE</button>
                    </div>
                </div>
            </fieldset>

            <input type="submit" value="UPLOAD">
        </form>
    </div>

    <div id="new-tutorial-video" class="new-form-tab tab-pane fade">
        <form method="post" class="container-fluid" action="/lookbook/tutorial/add" style="padding: 30px">
            <%_ var suffix = Date.now()+1; _%>
            <label>UPLOAD TUTORIAL VIDEO</label>
            <fieldset class="file-upload-container">
                <div class="row">
                    <div class="col-sm-6 col-xs-9"><input type="file" id="lookbook_media_file_<%- suffix %>" accept=".mp4,.mov,.wav" data-fieldname="video_file" multiple></div>
                    <input type="hidden" name="video_file">
                    <div class="col-sm-6 col-xs-3"><button type="button" class="clear-uploads" data-id="lookbook_media_file_<%- suffix %>">CLEAR</button></div>
                </div>
                <div class="row">
                    <div class="col-sm-12"><input type="url" name="video_url" id="lookbook_media_url_<%- suffix %>" placeholder="Or enter the video URL"></div>
                </div>
                <div class="row">
                    <div class="col-sm-12 add-remove-control" style="text-align: right">
                        <button type="button" class="add" data-prefix="lookbook_media_file_">ADD</button>
                        <button type="button" class="remove">REMOVE</button>
                    </div>
                </div>
            </fieldset>

            <input type="submit" value="UPLOAD">
        </form>
    </div>

    <div id="remove-lookbook-media" class="remove-form-tab media-mgmt-pane tab-pane fade">
        <%_ if (lookbook_media.length) { _%>
        <form action="/lookbook/remove" method="post">
            <label>DELETE IMAGES / VIDEOS <span>- Tick one or more images to delete</span></label>
            <div class="row">
                <%_ lookbook_media.forEach((img, i, arr) => {
                    const style = img.media_type === "image" ? `background-image: url('${img.url}')` : ""; _%>
                <div class="col-sm-6 img-wrapper">
                    <div class="img" style="<%- style %>">
                        <%_ if (img.media_type === "video") { _%>
                        <video playsinline autoplay muted loop><source src="<%= img.url %>"></video>
                        <%_ } _%>
                        <input type="checkbox" name="id" value="<%= img._id %>">
                    </div>
                </div>
                <%_ }) _%>
            </div>
            <br>
            <input type="submit" value="REMOVE">
        </form>
        <%_ } else { _%>
        <p class="no-removable-items-label"><b>NO IMAGES / VIDEOS TO REMOVE</b></p>
        <%_ } _%>
    </div>
</div>
